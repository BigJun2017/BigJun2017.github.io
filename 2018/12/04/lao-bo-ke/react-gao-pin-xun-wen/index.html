<!DOCTYPE HTML>
<html lang="">
<head>
    

<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta name="keywords" content="react中的常见问题, Blog4Jun">
    <meta name="description" content="
npm下载很慢或者下载失败此问题比较困扰新手，npm由node一同发布，但由于众所周知的原因导致下载速度过慢，甚至无法下载情况解决方案有以下两种：


NPM换源故名思议，就是把NPM的下载服务器更换为国内的服务器，国内当然是大厂阿里了。">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>react中的常见问题 | Blog4Jun</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

</head>

<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="container">
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <a href="/" class="waves-effect waves-light">
                        
                        <img src="/medias/logo.png" class="logo-img hide-on-small-only">
                        
                        <span class="logo-span">Blog4Jun</span>
                    </a>
                </div>
                <a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>Index</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>Tags</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>Categories</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>Archives</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>About</span>
        </a>
    </li>
    
    <li>
        <a id="toggleSearch" class="waves-effect waves-light">
            <i id="searchIcon" class="mdi-action-search"></i>
        </a>
    </li>

</ul>

<div class="side-nav" id="mobile-nav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Blog4Jun</div>
        <div class="logo-desc">
            
            爱你所爱，无问西东
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                Index
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                Tags
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                Categories
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                Archives
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                About
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/BigJun2017/BigJun2017.github.io.git" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>

    <div class="social-link"><a href="https://github.com/JunZhou2016/JunZhou2016.github.io" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
    <i class="fa fa-github"></i>
</a>
<a href="mailto:1769676159@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
    <i class="fa fa-envelope-open"></i>
</a>
<a href="#!" class="tooltipped" data-tooltip="QQ联系我: 1769676159" data-position="top" data-delay="50">
    <i class="fa fa-qq"></i>
</a>

<a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
    <i class="fa fa-rss"></i>
</a>
</div>
</div>

            </div>
        </div>

        
        <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/BigJun2017/BigJun2017.github.io.git" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewbox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
    </svg>
</a>
        
    </nav>
</header>


<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请哆啦A梦吃铜锣烧吧！请扫码获取访问密码。')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover post-cover" style="background-image: url('/medias/featureimages/9.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        react中的常见问题
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="container content">

    
    <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            
            <div class="post-info">
                

                <span class="post-date">
                    <i class="fa fa-clock-o fa-fw"></i>2018-12-04
                </span>
            </div>
        </div>
        <hr>
        <div class="card-content article-card-content">
            <div id="articleContent">
                <blockquote>
<p>npm下载很慢或者下载失败</p><p>此问题比较困扰新手，npm由node一同发布，但由于众所周知的原因导致下载速度过慢，甚至无法下载情况解决方案有以下两种：</p><p></p>
</blockquote>
<p><ol></ol></p>
<p><li>NPM换源<br>故名思议，就是把NPM的下载服务器更换为国内的服务器，国内当然是大厂阿里了。</li><br></p>
<p><blockquote></blockquote></p>
<p> npm config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a>   (npm config get registry 验证是否更换成功）<br>yarn config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a>    (yarn为Facebook出的包管理工具）</p><br><br><ol><br><li>使用淘宝出的NPM替代品<code>CNPM</code>  (CNPM是使用文件夹快捷方式使用的，有时候会因为这个出现莫名BUG所以还是推荐第一种方法）</li><br></ol><br><blockquote><br><p> npm install -g cnpm —registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a><br> 安装成功之后所有需要使用NPM的地方换成CNPM即可 比如NPM i React 就可以写成CNPM i React</p><br></blockquote><br><h3 id="NPM安装NODE-SASS-使用SASS但是无法下载NODE-SASS"><a href="#NPM安装NODE-SASS-使用SASS但是无法下载NODE-SASS" class="headerlink" title="NPM安装NODE-SASS 使用SASS但是无法下载NODE-SASS"></a>NPM安装NODE-SASS 使用SASS但是无法下载NODE-SASS</h3><p>因为NODE—SASS在GitHub托管的是源码，需要用户自己编译。而编译需要Python和Visual C ++构建环境（Windows同学，其他操作系统Linux以及Mac不需要）最简单的办法就是通过上面的办法进行换源，淘宝源上的是编译好的，如果非要自己编译，请自行安装Python2.7以及<a href="http://landinghub.visualstudio.com/visual-cpp-build-tools" target="_blank" rel="noopener">Visual C ++生成工具</a>,具体请参考<a href="https://github.com/nodejs/node-gyp#on-windows" target="_blank" rel="noopener">官方文档</a><br><code>更新</code> NODE-SASS 只有CNPM 下载下来的是编译好的</p><br><h3 id="can-39-t-not-find-39-xxModule-39-找不到相关资源"><a href="#can-39-t-not-find-39-xxModule-39-找不到相关资源" class="headerlink" title="can't not find 'xxModule' 找不到相关资源"></a><code>can’t not find ‘xxModule’</code> 找不到相关资源</h3><p>出现这个问题有两种原因：</p><br><ol><br><li>引用路径有问题，npm包是直接Import React from ‘react’ 只需要写包名即可。而引用组件，静态资源是需要写相对路径的（有个问题就是所有文件里面的静态资源都需要import引入或者require引入，否则webpack无法得知依赖关系，而导致找不到）。</li><br><li>第二种就是相关包没有下载或者下载不齐全，项目根目录重新命令行NPM i 即可</li><br></ol><br><h3 id="React的给return出来的HTML添加事件报错this-xxxx-xxxx-not-a-function"><a href="#React的给return出来的HTML添加事件报错this-xxxx-xxxx-not-a-function" class="headerlink" title="React的给return出来的HTML添加事件报错this.xxxx.xxxx not a function"></a>React的给return出来的HTML添加事件报错this.xxxx.xxxx not a function</h3><p>在class和模块的内部。默认是使用严格模式的，以及React的基类 <code>Component</code> 中所有的this都是指向class本身的，但是return出来的HTML 会被转化成实际的dom这个时候的this指向就不是定义的时候的那个class（个人肤浅理解)举例说明<br></p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span>  <span class="string">‘react’</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">APP</span>  <span class="keyword">extends</span>  <span class="title">Component</span> </span>{</span><br><span class="line">OnClick () {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2333</span>)</span><br><span class="line">}</span><br><span class="line">render () {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">      &lt;button  onClick={<span class="keyword">this</span>.OnClick}&gt;按钮&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp">}</span></span><br><span class="line"><span class="regexp">export default APP</span></span><br></pre></td></tr></tbody></table></figure><p></p><br><p>以上代码逻辑上点击按钮会触发OnClick函数，但是实际上只会报错。<br>解决方法(推荐度由高至低)：<br>1.使用提案阶段语法静态属性的<a href="https://github.com/tc39/proposal-class-fields" target="_blank" rel="noopener">提案</a>，改提案在写累的实例属性的时候可以使用等式，从而将属性和方法写入类中。（提案阶段语法，需要单独的<a href="http://babeljs.io/docs/plugins/transform-class-properties/" target="_blank" rel="noopener">babel插件</a>  官方脚手架create-react-app 已有此项配置(需要使用antd，sass，代码检查功能的可以参考这个<a href="https://gitee.com/HiMrHu/ReactGuanFangJiaoShouJia" target="_blank" rel="noopener">脚手架</a><br></p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span>  <span class="string">‘react’</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">APP</span>  <span class="keyword">extends</span>  <span class="title">Component</span> </span>{</span><br><span class="line">OnClick  = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2333</span>)</span><br><span class="line">    }</span><br><span class="line">render () {</span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">    &lt;button  onClick={<span class="keyword">this</span>.OnClick}&gt;按钮&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">   )</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp">}</span></span><br><span class="line"><span class="regexp">export default APP</span></span><br></pre></td></tr></tbody></table></figure><p></p><br><p>2.在构造函数中bind(this)<br></p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span>  <span class="string">‘react’</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">APP</span>  <span class="keyword">extends</span>  <span class="title">Component</span> </span>{</span><br><span class="line"><span class="keyword">constructor</span> () {</span><br><span class="line">    <span class="keyword">super</span>()</span><br><span class="line">    <span class="keyword">this</span>.OnClick = <span class="keyword">this</span>.OnClick.bind(<span class="keyword">this</span>)</span><br><span class="line">}</span><br><span class="line">OnClick () {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2333</span>)</span><br><span class="line">}</span><br><span class="line">render () {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">      &lt;button  onClick={<span class="keyword">this</span>.OnClick}&gt;按钮&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp">}</span></span><br><span class="line"><span class="regexp">export default APP</span></span><br></pre></td></tr></tbody></table></figure><p></p><br><p>3.使用匿名箭头函数返回方法<br>此方法会生成不可服用的匿名函数，但是这个方法是可以主动给调用方法传参数的，慎重使用。<br></p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span>  <span class="string">‘react’</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">APP</span>  <span class="keyword">extends</span>  <span class="title">Component</span> </span>{</span><br><span class="line">OnClick () {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2333</span>)</span><br><span class="line">}</span><br><span class="line">render () {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">      &lt;button  onClick={ () =&gt; <span class="keyword">this</span>.OnClick }&gt;按钮&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp">}</span></span><br><span class="line"><span class="regexp">export default APP</span></span><br></pre></td></tr></tbody></table></figure><p></p><br><p>4.还有一种方法就是在jsx中bind，这个方法也可以给方法传参数而且不会产生不可复用的匿名函数，但是不好维护。和方法3各有优缺点吧（代码检查不允许在jsx中bind，所以放在了最后）<br></p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span>  <span class="string">‘react’</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">APP</span>  <span class="keyword">extends</span>  <span class="title">Component</span> </span>{</span><br><span class="line">OnClick () {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2333</span>)</span><br><span class="line">}</span><br><span class="line">render () {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">      &lt;button  onClick={ <span class="keyword">this</span>.OnClick.bind(<span class="keyword">this</span>) }&gt;按钮&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp">}</span></span><br><span class="line"><span class="regexp">export default APP</span></span><br></pre></td></tr></tbody></table></figure><p></p><br><h3 id="使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义"><a href="#使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义" class="headerlink" title="使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义"></a>使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义</h3><p>Fetch是浏览器原生支持的，但是ie浏览器全系列都不支持promise，解决方案<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install whatwg-fetch</span><br></pre></td></tr></tbody></table></figure><p></p><br><p>然后项目<code>入口</code>文件内</p><br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import ‘whatwg-fetch’</span><br></pre></td></tr></tbody></table></figure><br><p>React使用了Es6的Set和Map数据结构低版本浏览器不支持，一劳永逸型方案(此方案是吧所有es6特性都通过es5函数模拟，弊端是会增加js文件体积，也可以自己百度挑单独的polyfill添加）<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install –save babel-polyfill</span><br><span class="line">入口文件内</span><br><span class="line">import ‘babel-polyfill’</span><br></pre></td></tr></tbody></table></figure><p></p><br><h3 id="跨域问题"><a href="#跨域问题" class="headerlink" title="跨域问题"></a>跨域问题</h3><p>这个问题我也快被问烂了，真的太多人遇到了都不知道怎么吐槽<br>    1.使用<code>CORS</code> 跨域方案，后端配置前端无忧请求只支持IE10+。<br>    2.使用<code>nginx</code>反向代理，一劳永逸。<br>    3.Webpack有开发代理功能，自己去Webpack官网看，我记不住<br>    4.React官方脚手架<code>create-react-app</code>看<a href="https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#proxying-api-requests-in-development" target="_blank" rel="noopener">这里</a></p><br><h3 id="为什么我用import-style-from-‘-xxx-css’不管用啊还有为什么要这么用啊"><a href="#为什么我用import-style-from-‘-xxx-css’不管用啊还有为什么要这么用啊" class="headerlink" title="为什么我用import style from ‘../../xxx.css’不管用啊还有为什么要这么用啊"></a>为什么我用import style from ‘../../xxx.css’不管用啊还有为什么要这么用啊</h3><p>这种是为了使用css模块化，需要在webpack中配置看<a href="https://doc.webpack-china.org/loaders/css-loader/" target="_blank" rel="noopener">这里</a><br>其原理是给你的css类名随机化，或者添加随机后缀达到全局不会重复。用不用都行,自己衡量。</p><br><h3 id="为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404"><a href="#为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404" class="headerlink" title="为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404"></a>为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404</h3><p>这个问题是因为BrowserRouter 使用了HTML5的api导致每次url变化都是实际向服务器进行请求，所以需要后端收到前端路由请求之后都返回index.html。实在不会弄就去用HashRouter，url变化不会产生额外请求，因为他本质上一直是在/路径下</p><br><h3 id="我想拦截页面。或者在页面进入之前做一些事情"><a href="#我想拦截页面。或者在页面进入之前做一些事情" class="headerlink" title="我想拦截页面。或者在页面进入之前做一些事情"></a>我想拦截页面。或者在页面进入之前做一些事情</h3><p>请使用:<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=<span class="string">“/home”</span> render={(props) =&gt; &lt;div {…props}&gt;Home&lt;/div&gt;}/&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><br><p>render接受一个函数会向函数附加一个参数，这个参数是所有的Router方法和参数，记得传给组件，可以在return之前做一些判断。</p><br><h3 id="xxx-is-not-a-function-这个问题我被问了无数遍"><a href="#xxx-is-not-a-function-这个问题我被问了无数遍" class="headerlink" title="xxx is not a function  这个问题我被问了无数遍"></a><code>xxx is not a function</code>  这个问题我被问了无数遍</h3><p>我不知道怎么解释，我也不想解释。</p><br><h3 id="Cannot-read-property-39-xxx-39-of-undefined-quot-这个问题比上面那个问题问的少一点或许吧。"><a href="#Cannot-read-property-39-xxx-39-of-undefined-quot-这个问题比上面那个问题问的少一点或许吧。" class="headerlink" title="Cannot read property 'xxx' of undefined&quot; 这个问题比上面那个问题问的少一点或许吧。"></a><code>Cannot read property ‘xxx’ of undefined”</code> 这个问题比上面那个问题问的少一点或许吧。</h3><p>这个一般都是组件内部引用了props传下来的值，但是父组件没传，或者引用了不存在的值。自己仔细检查。</p><br><h3 id="token-operator-xxxxx-这个问题问的人少。"><a href="#token-operator-xxxxx-这个问题问的人少。" class="headerlink" title="token: operator xxxxx 这个问题问的人少。"></a><code>token: operator xxxxx</code> 这个问题问的人少。</h3><p>少了括号，多了逗号，多了括号巴拉巴拉的。</p><br><h3 id="npm-run-build之后我打开index-html不能访问啊"><a href="#npm-run-build之后我打开index-html不能访问啊" class="headerlink" title="npm run build之后我打开index.html不能访问啊"></a><code>npm run build</code>之后我打开index.html不能访问啊</h3><pre><code>1. 给后端，让他给你弄。<br>2. 参考上一条。<br>3. 还不死心？那就打开index.html 吧文件路径改成./开头的就好了。<br></code></pre><h3 id="axios的-post-请求后台接受不到-直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化）"><a href="#axios的-post-请求后台接受不到-直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化）" class="headerlink" title="axios的 post 请求后台接受不到 (直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化）"></a><code>axios</code>的 <code>post</code> 请求后台接受不到 (直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化）</h3><p><code>axios</code>默认是 json 格式提交,确认后台是否做了对应的支持;</p><br><p>若是只能接受传统的表单序列化,就需要自己写一个转义的方法…</p><br><p>当然还有一个更加省事的方案,装一个小模块<code>qs</code><br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">npm install qs -S </span><br><span class="line"><span class="comment">// 然后在对应的地方转就行了..单一请求也行,拦截器也行…我是写在拦截器的. </span></span><br><span class="line"><span class="comment">// 具体可以看看我 axios 封装那篇文章 //POST传参序列化(添加请求拦截器) Axios.interceptors.request.use( config =&gt; { </span></span><br><span class="line"><span class="comment">// 在发送请求之前做某件事 </span></span><br><span class="line"><span class="keyword">if</span> ( config.method === <span class="string">“post”</span> ) { </span><br><span class="line"><span class="comment">// 序列化 </span></span><br><span class="line">config.data = qs.stringify(config.data); </span><br><span class="line"><span class="comment">// <strong>*</strong> 这里转义 } </span></span><br><span class="line"><span class="comment">// 若是有做鉴权token , 就给头部带上token </span></span><br><span class="line"><span class="keyword">if</span> (localStorage.token) { config.headers.Authorization = localStorage.token; } <span class="keyword">return</span> config; }, error =&gt; { Message({ </span><br><span class="line"><span class="comment">// 饿了么的消息弹窗组件,类似toast showClose: true, message: error, type: “error.data.error.message” }); </span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error.data.error.message); } );</span><br></pre></td></tr></tbody></table></figure><p></p><br><h3 id="Array-mapState-SOME-MUTATION-state-increment-commit-是什么"><a href="#Array-mapState-SOME-MUTATION-state-increment-commit-是什么" class="headerlink" title="[...Array],...mapState,[SOME_MUTATION] (state) {},increment ({ commit }) {}是什么"></a><code>[…Array]</code>,<code>…mapState</code>,<code>[SOME_MUTATION] (state) {}</code>,<code>increment ({ commit }) {}</code>是什么</h3><p>数组解构,对象解构,对象风格函数,对象解构赋值传递（第三个我也不知道）</p><br><h3 id="redux-的用户信息为什么还要存一遍在浏览器里-sessionStorage-or-localStorage"><a href="#redux-的用户信息为什么还要存一遍在浏览器里-sessionStorage-or-localStorage" class="headerlink" title="redux 的用户信息为什么还要存一遍在浏览器里(sessionStorage or localStorage)"></a>redux 的用户信息为什么还要存一遍在浏览器里(sessionStorage or localStorage)</h3><p>因为 <code>Redux</code>的 store 干不过刷新啊.<br>保存在浏览器的缓存内,若用户刷新的话,在从里面取一下信息</p><br><h3 id="有什么React-Redux-Router学习项目吗"><a href="#有什么React-Redux-Router学习项目吗" class="headerlink" title="有什么React+Redux+Router学习项目吗"></a>有什么React+Redux+Router学习项目吗</h3><p>偷偷放上自己的<a href="https://github.com/HiMrHu/cnode" target="_blank" rel="noopener">代码</a></p><br><h3 id="nginx部署"><a href="#nginx部署" class="headerlink" title="nginx部署"></a>nginx部署</h3><p>传送门:<a href="https://link.juejin.im/?target=https%3A%2F%2Fjuejin.im%2Fpost%2F58bfc412da2f60124db5999a" target="_blank" rel="noopener">一篇不大靠谱的nginx 1.11.10配置文件</a></p><br><h3 id="为什么我的-npm-或者-yarn-安装依赖会生成-lock文件-有什么用"><a href="#为什么我的-npm-或者-yarn-安装依赖会生成-lock文件-有什么用" class="headerlink" title="为什么我的 npm 或者 yarn 安装依赖会生成 lock文件,有什么用"></a>为什么我的 <code>npm</code> 或者 <code>yarn</code> 安装依赖会生成 <code>lock</code>文件,有什么用</h3><p>版本锁工具，以前有次npm出现了npm到的包不是自己想要的，所以就用lock这个文件记录了下载地址包版本，加密的值。用于控制版本。保证包的前后一致。</p><br><h3 id="package-json里面的dependencies-和devDependencies的差异"><a href="#package-json里面的dependencies-和devDependencies的差异" class="headerlink" title="package.json里面的dependencies 和devDependencies的差异"></a><code>package.json</code>里面的<code>dependencies</code> 和<code>devDependencies</code>的差异</h3><p>其实不严格的话,没有特别的差异;<br>若是严格,遵循官方的理解;</p><br><ul><br><li><code>dependencies</code> : 存放线上或者业务能访问的核心代码模块,比如 <code>vue</code>,<code>vue-router</code>;</li><br><li><code>devDependencies</code>: 处于开发模式下所依赖的开发模块,也许只是用来解析代码,转义代码,但是不产生额外的代码到生产环境, 比如什么<code>babel-core</code>这些</li><br></ul><br><p>新版的npm已经不需要<code>–save</code> <code>–save-dev</code> 这指令的，当然也可以加上，npm会根据包的说明摆放位置的。<br>再说一遍代码打包看的是引入以及依赖关系，和在<code>dependencies</code>还是<code>devDependencies</code>放的没有一毛钱关系！！！！！！！！！！</p>


            </div>
            <hr>

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff;
        background-color: #22AB38;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff;
        background-color: #019FE8;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a class="reward-link btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs">
                        <li class="tab wechat-tab waves-effect waves-light"><a class="active" href="#wechat">微信</a></li>
                        <li class="tab alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('#reward .reward-link').on('click', function () {
            $('#rewardModal').openModal();
        });

        $('#rewardModal .close').on('click', function () {
            $('#rewardModal').closeModal();
        });
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone, qq, weibo, douban"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            <div class="reprint">
                <p>
                    <span class="reprint-tip">Reprint please specify: </span>
                    <a href="https://junzhou2016.github.io" class="b-link-green">Blog4Jun</a>
                    <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                    <a href="/2018/12/04/lao-bo-ke/react-gao-pin-xun-wen/" class="b-link-green">react中的常见问题</a>
                </p>
            </div>
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">Previous</div>
            <div class="card">
                <a href="/2018/12/04/lao-bo-ke/react-he-springboot-qian-hou-duan-fen-chi-kai-fa-mo-shi-xia-cai-yong-websocket-shi-xian-dan-she-bei-deng-lu/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/11.jpg" class="responsive-img" alt="React和SpringBoot前后端分离开发模式下采用WebSocket实现单设备登录">
                        
                        <span class="card-title">React和SpringBoot前后端分离开发模式下采用WebSocket实现单设备登录</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">
首先介绍下，什么是单设备登录？单设备登录可以理解为同一个应用某一时刻只允许单一用户使用处于登录状态。单设备登录可以类比QQ的踢出第二者登录模式，可以在一定的程度上保障账号的安全。



   单设备登录的难点在哪？   单设备登录的难点在</div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2018-12-04
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-user fa-fw"></i>
                            Pursue
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">Next</div>
            <div class="card">
                <a href="/2018/12/04/lao-bo-ke/poi-shi-xian-excel-de-dao-ru-dao-chu-wei-cai-yong-fan-she-shi-xian-de-ban-ben/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="POI实现excel的导入导出-[未采用反射实现的版本]">
                        
                        <span class="card-title">POI实现excel的导入导出-[未采用反射实现的版本]</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">最近在做项目中遇到了使用POI导入导出excel的需求,所以在这里总结下，方便自己和朋友学习:1.经典博客:    1.JavaWEB–POI之EXCEL操作、优化、封装详解系列（一）–概述与原理    2.公共POI导出Excel方法–j</div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2018-12-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-user fa-fw"></i>
                            Pursue
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>
    

</main>

<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站由&copy;<a href="https://junzhou2016.github.io/" target="_blank">JunZhou</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 采用
            <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">hexo-theme-yilia</a>的主题搭建.
        </div>
        <div class="col s12 m4 l4 social-link"><a href="https://github.com/JunZhou2016/JunZhou2016.github.io" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
    <i class="fa fa-github"></i>
</a>
<a href="mailto:1769676159@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
    <i class="fa fa-envelope-open"></i>
</a>
<a href="#!" class="tooltipped" data-tooltip="QQ联系我: 1769676159" data-position="top" data-delay="50">
    <i class="fa fa-qq"></i>
</a>

<a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
    <i class="fa fa-rss"></i>
</a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title">Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword" class="search-input" autofocus>
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/js/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>
</body>
</html>